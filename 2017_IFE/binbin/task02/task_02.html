<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>binbin-js02</title>
</head>
<body>
	<h3>污染城市列表</h3>
	<ul id="aqi-list">

	</ul>

	<script type="text/javascript">
		var aqiData = [
			["北京", 90],
			["上海", 50],
			["福州", 10],
			["广州", 50],
			["成都", 90],
			["西安", 100],
			["杭州", 101],
			["重庆", 88]
		];
		var chNum = ['一','二','三','四','五','六','七','八','九','十'];
		(function(){
			var m = 1;
			var EnNum = [];
			var li = '';
			var lists = document.getElementById('aqi-list');
			var niceLists = [];
			for (var i = 0; i<aqiData.length; i++){
				var x = aqiData[i].length;
				if(aqiData[i][x-1]>60){
					niceLists.push(aqiData[i]);
					var len = niceLists.length;
				}
			}

			niceLists.sort(function(a,b){
				return b[1] - a[1]; 
			});
			//console.log(niceLists);
			for (var j = 0,k = 0;j<niceLists.length; j++){
				EnNum.push(niceLists[j][1]);
				console.log(EnNum);
				if( EnNum[k] == EnNum[k-1]){
					console.log('ok');
					li += "<li>第" + chNum[k-1] + "名: " + niceLists[j][0] + ', ' + niceLists[j][1]  + "</li>";
					k+=1;
				}else {
					li += "<li>第" + chNum[k] + "名: " + niceLists[j][0] + ', '  + niceLists[j][1]  + "</li>";
					k+=1;
				}
				lists.innerHTML = li;
				
			};
			
		})();
	</script>
</body>
</html>
